var bin2dec=function(a){var b=0;if(a=a.replace(/\s/g,""),-1!==a.indexOf(".")){var c=a.split("."),d=c[1];a=c[0];for(var e=0;e<d.length;++e)"1"==d[e]&&(b+=1/Math.pow(2,e+1))}a=a.split("").reverse().join("");for(var f=a.length-1;f>=0;--f)"1"==a[f]&&(b+=Math.pow(2,f));return b},dec2bin=function(a,b){var c=[];if(a*=1,0===a)return"0";if(Math.floor(a)!==a){for(var d=".",e=a%1,f=0;0!==e&&(!b||b>f);++f)e*=2,d+=Math.floor(e),e%=1;return dec2bin(Math.floor(a))+d}for(var g=Math.floor(Math.log(a)/Math.log(2));g>=0;)a-Math.pow(2,g)>=0?(a-=Math.pow(2,g),c[g]="1"):c[g]="0",--g;return c.reverse().join("")},dec2hex=function(a){var b="0123456789ABCDEF",c=[];if(a=Math.floor(a),0===a)return"0";for(var d=Math.floor(Math.log(a)/Math.log(16));d>=0;)c[d]=Math.floor(a/Math.pow(16,d)),c[d]=b.charAt(c[d]),a%=Math.pow(16,d),--d;return c.reverse().join("")},hex2dec=function(a){var b="0123456789ABCDEF",c=0;a=a.toUpperCase(),a=a.split("").reverse().join("");for(var d=a.length-1;d>=0;--d){var e=b.indexOf(a[d]);c+=Math.pow(16,d)*e}return c},twoscomp=function(a){for(var b=a.split("").reverse(),c=[],d=b.length,e=0;d>e&&"1"!=b[e];)c[e]=b[e],++e;if(e>=d)return c.reverse().join("");for(c[e]="1",++e;d>e;)"1"==b[e]?c[e]="0":"0"==b[e]?c[e]="1":c[e]=b[e],++e;return c.reverse().join("")};!function(){var a=document.getElementById("binary"),b=document.getElementById("decimal"),c={sign:1,exp:3,mantissa:5},d=function(a,b,c){for(a+="",c=c||"0";a.length<b;)a=c+a;return a};a.oninput=function(){var a=this.value.replace(/[^01]/g,"");if(a.length>c.sign+c.exp+c.mantissa)return void(b.value="too many bits");if(a.length<c.sign+c.exp+c.mantissa)return void(b.value="not enough bits");var d=a.substr(0,c.sign),e=a.substr(c.sign,c.exp),f=a.substr(c.sign+c.exp,c.mantissa);console.log("sign: "+d),console.log("exp: "+e),e="1"===e[0]?-1*bin2dec(twoscomp(e)):bin2dec(e),console.log("exp: "+e),f/=Math.pow(10,f.length),console.log("mantissa: "+f),f=bin2dec(f+""),console.log("mantissa: "+f);var g=f*Math.pow(2,1*e);"1"===d&&(g*=-1),b.value=g,console.log()},b.oninput=function(){var b=1*this.value.replace(/[^\d.\-+]/g,""),e="0";0>b&&(e="1",b*=-1);var f=0,g=dec2bin(b);if(1>g){g=g.replace(/^0./,"");for(var h=0;"0"==g[h];++h,--f);g=g.substr(h)}else{var i=Math.floor(1*g)+"";f="0"==i?0:i.length,g=g.replace(/^0+|0+$|\./g,"")}g=g.substr(0,c.mantissa),g+="0".repeat(c.mantissa-g.length),0>f?(f=dec2bin(-f),f=twoscomp(d(f,c.exp))):f=d(dec2bin(f),c.exp),a.value=e+" "+f+" "+g}}();
//# sourceMappingURL=floatconv.js.map